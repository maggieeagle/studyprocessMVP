<UserControl x:Class="UI.Views.StudentCoursesPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800">

	<Grid Margin="10">
		<DataGrid ItemsSource="{Binding Courses}"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False">

			<DataGrid.Columns>

				<DataGridTemplateColumn Header="Course Name" Width="*">
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<TextBlock VerticalAlignment="Center">
								<Hyperlink Command="{Binding DataContext.NavigateToCourseCommand, 
                                                     RelativeSource={RelativeSource AncestorType=UserControl}}"
                                           CommandParameter="{Binding}">
									<TextBlock Text="{Binding CourseName}"/>
								</Hyperlink>
							</TextBlock>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
				</DataGridTemplateColumn>

				<DataGridTextColumn Header="Code"
                                    Binding="{Binding Code}"
                                    Width="Auto" />

				<DataGridCheckBoxColumn Header="Enrolled"
                                        Binding="{Binding IsEnrolled}"
                                        IsReadOnly="True"
                                        Width="Auto" />

				<DataGridTemplateColumn Header="Action"
                                        Width="Auto">
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<Button Command="{Binding DataContext.EnrollCommand,
                                              RelativeSource={RelativeSource AncestorType=UserControl}}"
                                    CommandParameter="{Binding}">
								<Button.Style>
									<Style TargetType="Button">
										<Setter Property="Content" Value="Enroll"/>
										<Setter Property="IsEnabled" Value="True"/>
										<Style.Triggers>
											<DataTrigger Binding="{Binding IsEnrolled}" Value="True">
												<Setter Property="Content" Value="Enrolled"/>
												<Setter Property="IsEnabled" Value="False"/>
											</DataTrigger>
										</Style.Triggers>
									</Style>
								</Button.Style>
							</Button>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
				</DataGridTemplateColumn>
			</DataGrid.Columns>

		</DataGrid>
	</Grid>
</UserControl>
